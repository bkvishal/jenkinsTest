pipeline {
    agent any
    parameters {
        booleanParam(defaultValue: false, description: "Enable Service?", name: "boolean1")
        booleanParam(defaultValue: true, description: "Envorinment?", name: "boolean2")
    }
    stages {
        stage("Maven Build"){
            steps {
                dir("horizonx-users") {
                    sh "mvn -B -Dskiptest clean package"
                }
            }
        }
        stage("Tests"){
            steps {
                dir("horizonx-users") {
                    sh "mvn test"
                }
            }
            post {
                always {
                    junit 'target/surefire-reports/*.xml'
                }
            }
        }
        stage("Boolean 1 select"){
            steps {
                echo "booleanParam 1 is set to : ${params.boolean1}"
            }
        }
        stage("Boolean 2 select"){
            steps {
                echo "booleanParam 2 is set to : ${params.boolean2}"
            }
        }
    }
}